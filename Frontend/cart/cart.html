<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
#cart-section {
  border: 1px solid #ccc;
  padding: 20px;
width: auto;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  margin-right: 20px;
  max-height: 100px;
  margin-top: 20px;
}

#checkout-button {
  display: block;
  margin-top: 10px;
  padding: 10px;
  background-color: #007bff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

    </style>
    <link rel="stylesheet" href="cart.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>

<body>

    <div class="top-nav">
        <div class="alternating-menu">
            <p id="alternateText">Welcome to Shoppie</p>
        </div>
        <div class="search-container">
           
            
        </div>
        <div class="menus">
            <div class="dropdown">
                <span class="material-symbols-outlined clickable">person</span>
                <div class="dropdown-content">
                    <a href="#" onclick="viewProfile()">View Profile</a>
                    <a href="#" onclick="logout()">Logout</a>
                </div>
            </div>
            
            <p id="helloMessage"></p>
        </div>
    </div>
    <h1 style="text-align: center; margin-top: 40px;" >Your Cart</h1>

    <div  class="empty-cart" style="display: none; position: fixed; left: 42%;">
        
        <lottie-player src="https://lottie.host/79c0a4cc-dbd4-4665-83c8-6169ed8f1abb/6KexGp5mRr.json"
            background=“Transparent” speed="1" style="width: 300px; height: 300px" direction=“1” mode=“normal” loop
            autoplay></lottie-player>
        <h3 style="text-align: center;">Your cart is empty :(</h3>
    </div>



    <div id="notification" class="notification">Item removed from cart!</div>

    <div class="container">
 
    
        <div id="products-container">
            
        </div>
            <div id="cart-section" style="display: none;">
                <p>Total Items: <span id="total-items">0</span></p>
                <p>Total Price: Ksh<span id="total-price">0.00</span></p>
                <button id="checkout-button">Checkout</button>
              </div>
           
        
    </div>

    <script src="cart.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <script>

const token = localStorage.getItem("authToken")

if(!token){
    console.log("hamna token");
}
        document.addEventListener("DOMContentLoaded", function () {
            $(".dropdown").click(function (event) {
                event.stopPropagation();
                $(this).find(".dropdown-content").toggle();
            });

            // Hide the dropdown content on DOM content load
            $(".dropdown-content").hide();

            $(document).click(function (event) {
                if (!$(event.target).closest(".dropdown").length) {
                    $(".dropdown-content").hide();
                }
            });

            // Check if the pop-up was displayed before using localStorage
            if (!localStorage.getItem("popupDisplayed")) {
                $(".dropdown-content").show();
                localStorage.setItem("popupDisplayed", "true");
            }
        });

        </script>
</body>

</html>